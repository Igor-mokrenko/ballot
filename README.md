# Crypto ballot project

Смарт конракт предназначен для создания голосования со списком кандидитов, с возможностью других пользователей выбирать победителя. Для участия в голосовании необходимо внести 0.01 ETH. Победитель голосования забирает всю сумму за вычетом комиссии.

# Функционал
* Создавать голосование может только владелец
* Голосование может быть завершено любым пользователем по истечении времени голосования
* Получение информации о всех голосованиях и о конкретном голосовании
* Победитель забирает все взносы за вычетом комиссии 10% которая остаестся в контракте и может быть выведена только владельцем

# Hardhat tasks

* `new-ballot` - создает новое голосование. Параметры: `duration` - продолжительность голосования в секундах, `name` - название голосования, `candidates` - список адресов кандидатов через запятую. 
```
npx hardhat add-ballot --duration 600 --name "test" --candidates "0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266,0x70997970c51812dc3a010c7d01b50e0d17dc79c8"
```

* `ballots-list` - список всех созданных голосований.
```
npx hardhat ballots-list
```

* `ballot-stat` - информация о конкретном голосовании. Параметры: `ballotid`  - id голосования
```
npx hardhat ballot-stat --ballotid 0
```

* `vote` - отправить голос за кандидата. Параметры: `ballotid`  - id голосования, `candidateid` - id кандидата, `sender` - адрес голосующего.
```
npx hardhat vote --ballotid 0 --candidateid 0 --sender "0x70997970c51812dc3a010c7d01b50e0d17dc79c8"
```

* `finish-ballot` - завершить голосование. Параметры: `ballotid` - id голосования
```
npx hardhat finish-ballot --ballotid 0
```

* `withdraw-prize` - вывести приз победителю. Параметры: `ballotid`  - id голосования, `sender` - адрес победителя
```
npx hardhat withdraw-prize --ballotid 0 --sender "0x70997970c51812dc3a010c7d01b50e0d17dc79c8"
```

* `withdraw-platform-fund` - вывести накопленные комиссии. 
```
npx hardhat withdraw-platform-fund
```
